{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Loader from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Adminotp=()=>{const[uuid,setOtp]=useState('');const[status,setStatus]=useState('');const[newPassword,setpassword]=useState('');const[loading,setloading]=useState(false);const navigate=useNavigate();const SubmitOtp=e=>{setloading(true);//console.log(formValues.username)\ne.preventDefault();axios.patch(\"http://localhost:8080/admin/password/forget/\".concat(uuid,\"/\").concat(newPassword),{uuid:uuid,newPassword:newPassword}).then(response=>{console.log(response.data);if(response.data.status===200){navigate('/');}}).catch(error=>{console.log(error);setStatus('otp not valid.');}).finally(()=>{setloading(false);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-2\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold\",style:{fontFamily:'serif',color:'#4F6F52'},children:\" ONE TIME PASSWORD\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:SubmitOtp,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 mt-3\",style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:uuid,name:\"otp\",className:\"form-control \",placeholder:\"Enter your unique id received on your registered email\",required:true,onChange:e=>setOtp(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 mt-3\",style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPassword,name:\"otp\",className:\"form-control \",placeholder:\"Enter your new password\",onChange:e=>setpassword(e.target.value),pattern:\"^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*._-])[A-Za-z0-9!@#$%^&*._-]{8,}$\",title:\"Password must contain at least one capital letter, one number, one special character, and be at least 6 and max 15 characters long.\",required:true})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-dark\",value:\"Verify Otp\"})]}),/*#__PURE__*/_jsx(\"div\",{width:50,height:40,children:loading&&/*#__PURE__*/_jsx(Loader,{width:30,height:30})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[\" \",status]})]})});};export default Adminotp;","map":{"version":3,"names":["axios","React","useState","useNavigate","Loader","jsx","_jsx","jsxs","_jsxs","Adminotp","uuid","setOtp","status","setStatus","newPassword","setpassword","loading","setloading","navigate","SubmitOtp","e","preventDefault","patch","concat","then","response","console","log","data","catch","error","finally","children","className","style","textAlign","fontFamily","color","onSubmit","display","justifyContent","type","value","name","placeholder","required","onChange","target","pattern","title","width","height"],"sources":["F:/Orbit/King_soft/frontend/src/components/Adminotp.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Loader from './Loader'\r\n\r\nconst Adminotp = () => {\r\n    const [uuid, setOtp] = useState('')\r\n    const [status, setStatus] = useState('')\r\n    const [newPassword, setpassword] = useState('')\r\n    const [loading, setloading]=useState(false)\r\n\r\n    const navigate = useNavigate()\r\n\r\n\r\n\r\n    const SubmitOtp = (e) => {\r\n        setloading(true)\r\n\r\n        //console.log(formValues.username)\r\n        e.preventDefault();\r\n        axios.patch(`http://localhost:8080/admin/password/forget/${uuid}/${newPassword}`, {\r\n            uuid: uuid,\r\n            newPassword: newPassword\r\n\r\n        }).then((response) => {\r\n            console.log(response.data);\r\n            if (response.data.status === 200) {\r\n                navigate('/')\r\n            }\r\n\r\n        })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setStatus('otp not valid.');\r\n            })\r\n            .finally(()=>{\r\n                setloading(false)\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='container mt-2' style={{ textAlign: 'center' }} >\r\n\r\n                <h2 className='fw-bold' style={{fontFamily:'serif', color:'#4F6F52'}}> ONE TIME PASSWORD</h2>\r\n\r\n\r\n\r\n                <form onSubmit={SubmitOtp}>\r\n                    <div className='mb-3 mt-3' style={{display:'flex', justifyContent:'center'}}>\r\n                        <input type='text' value={uuid} name='otp' className='form-control ' placeholder='Enter your unique id received on your registered email' required onChange={(e) => setOtp(e.target.value)} />\r\n                    </div>\r\n\r\n                    <div className='mb-3 mt-3' style={{display:'flex', justifyContent:'center'}}>\r\n                        <input type='text' value={newPassword} name='otp' className='form-control ' placeholder='Enter your new password' onChange={(e) => setpassword(e.target.value)}\r\n                            pattern=\"^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*._-])[A-Za-z0-9!@#$%^&*._-]{8,}$\"\r\n                            title=\"Password must contain at least one capital letter, one number, one special character, and be at least 6 and max 15 characters long.\"\r\n                            required />\r\n                    </div>\r\n\r\n                    <input type='submit' className='btn btn-dark' value='Verify Otp' />\r\n                </form>\r\n\r\n                <div width={50} height={40}>\r\n                    {loading && <Loader width={30} height={30} />}\r\n                </div>\r\n\r\n                <p className='text-danger'> {status}</p>\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Adminotp"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}