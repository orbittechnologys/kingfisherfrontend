{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Loader from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminVerify=_ref=>{let{setIsLoggedIn}=_ref;const[uuid,setOtp]=useState('');const[status,setStatus]=useState('');const[loading,setloading]=useState(false);const navigate=useNavigate();const SubmitOtp=e=>{setloading(true);//console.log(formValues.username)\ne.preventDefault();axios.get('https://localhost:8080/admin/otp',{params:{'otp':uuid}}).then(response=>{console.log(response.data);if(response.data.status===200){setIsLoggedIn(true);// Set login status to true\nnavigate('/dashboard');// Redirect to the dashboard\n}}).catch(error=>{console.log(error);setStatus('otp not valid.');}).finally(()=>{setloading(false);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fw-bold\",style:{fontFamily:'serif'},children:\" Verify OTP\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:SubmitOtp,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 mt-3\",style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:uuid,name:\"otp\",className:\"form-control w-25\",placeholder:\"Enter your otp\",required:true,onChange:e=>setOtp(e.target.value)})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-success\",value:\"Verify Otp\"})]}),/*#__PURE__*/_jsx(\"div\",{width:50,height:40,children:loading&&/*#__PURE__*/_jsx(Loader,{width:30,height:30})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[\" \",status]})]})});};export default AdminVerify;","map":{"version":3,"names":["axios","React","useState","useNavigate","Loader","jsx","_jsx","jsxs","_jsxs","AdminVerify","_ref","setIsLoggedIn","uuid","setOtp","status","setStatus","loading","setloading","navigate","SubmitOtp","e","preventDefault","get","params","then","response","console","log","data","catch","error","finally","children","className","style","textAlign","fontFamily","onSubmit","display","justifyContent","type","value","name","placeholder","required","onChange","target","width","height"],"sources":["F:/Orbit/King_soft/frontend/src/components/AdminVerify.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Loader from './Loader'\r\n\r\nconst AdminVerify = ({ setIsLoggedIn }) => {\r\n    const [uuid, setOtp] = useState('')\r\n    const [status, setStatus] = useState('')\r\n   \r\n    const [loading, setloading]=useState(false)\r\n\r\n    const navigate = useNavigate()\r\n\r\n\r\n\r\n    const SubmitOtp = (e) => {\r\n        setloading(true)\r\n\r\n        //console.log(formValues.username)\r\n        e.preventDefault();\r\n        axios.get('https://localhost:8080/admin/otp',{\r\n            params:{\r\n                'otp':uuid\r\n            }\r\n        }\r\n        ).then((response) => {\r\n            console.log(response.data);\r\n            if (response.data.status === 200) {\r\n                setIsLoggedIn(true); // Set login status to true\r\n                navigate('/dashboard'); // Redirect to the dashboard\r\n            }\r\n\r\n        })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setStatus('otp not valid.');\r\n            })\r\n            .finally(()=>{\r\n                setloading(false)\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='container mt-5' style={{ textAlign: 'center' }} >\r\n\r\n                <h1 className='fw-bold' style={{fontFamily:'serif'}}> Verify OTP</h1>\r\n\r\n\r\n\r\n                <form onSubmit={SubmitOtp}>\r\n                    <div className='mb-3 mt-3' style={{display:'flex', justifyContent:'center'}}>\r\n                        <input type='text' value={uuid} name='otp' className='form-control w-25'  placeholder='Enter your otp' required onChange={(e) => setOtp(e.target.value)} />\r\n                    </div>\r\n\r\n                   \r\n                    <input type='submit' className='btn btn-success' value='Verify Otp' />\r\n                </form>\r\n\r\n                <div width={50} height={40}>\r\n                    {loading && <Loader width={30} height={30} />}\r\n                </div>\r\n\r\n                <p className='text-danger'> {status}</p>\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default AdminVerify\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}